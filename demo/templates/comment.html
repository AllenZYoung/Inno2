<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Innocent</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700|Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic"
          rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.css">
    <link href="/static/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <script src="/static/js/jquery.quovolver.min.js"></script>
    <!--[if lt IE 9]-->
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <script src="/static/js/echarts.common.min.js"></script>

    <!--[endif]-->
</head>
<body>
<!--header starts-->
<header class="main-header">
    <div class="backbg-color">
{#        <div class="navigation-bar">#}
{#            <div class="container">#}
{#                <div class="row">#}
{#                    <div class="col-md-12">#}
{#                        <!--navigation starts-->#}
{#                        <nav class="navbar navbar-default">#}
{#                            <div class="navbar-header">#}
{#                                <button type="button" class="navbar-toggle" data-toggle="collapse"#}
{#                                        data-target="#myNavbar">#}
{#                                    <span class="icon-bar"></span>#}
{#                                    <span class="icon-bar"></span>#}
{#                                    <span class="icon-bar"></span>#}
{#                                </button>#}
{#                                <a class="navbar-brand" href="#">Lithe</a>#}
{#                            </div>#}
{#                            <div class="collapse navbar-collapse navbar-right" id="myNavbar">#}
{#                                <ul class="nav navbar-nav">#}
{#                                    <li><a href="/demo">主页</a></li>#}
{#                                    <li><a href="/demo/freq">词频统计</a></li>#}
{#                                    <li class="active"><a href="/demo/commentsnum">日期评论数分析</a></li>#}
{#                                    <li><a href="">情感分析</a></li>#}
{#                                    <li><a href="">评论摘要</a></li>#}
{#                                    <li><a href="">用户特征</a></li>#}
{#                                </ul>#}
{#                            </div>#}
{#                        </nav>#}
{#                        <!--navigation ends-->#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
        <!--banner starts-->

        <div class="row">
            <div class="panel-body">
                <table class="table bootstrap-datatable countries">
                    <caption style="color:rgba(24, 25, 30, 0.7)"> {{ name }} </caption>
                    <thead>
                    <tr>
                        <th>日期</th>
                        <th>评价数量</th>
                        <th>好评数量</th>
                        <th>综合评价</th>
                    </tr>
                    </thead>
                    <tbody>
                    {#                            {% for item in data_source %}#}
                    {#                            <tr>#}
                    {#                                <td>{{ item.date }}</td>#}
                    {#                                <td>{{ item.comments_num }}</td>#}
                    {#                                <td>{{ item.good_comments_num }}</td>#}
                    {#                                <td>#}
                    {#                                    <div class="progress thin">#}
                    {#                                        <div class="progress-bar progress-bar-danger" role="progressbar"#}
                    {#                                             aria-valuenow="73" aria-valuemin="0" aria-valuemax="100"#}
                    {#                                             style="width: 73%">#}
                    {#                                        </div>#}
                    {#                                        <div class="progress-bar progress-bar-warning" role="progressbar"#}
                    {#                                             aria-valuenow="27" aria-valuemin="0" aria-valuemax="100"#}
                    {#                                             style="width: 27%">#}
                    {#                                        </div>#}
                    {#                                    </div>#}
                    {#                                </td>#}
                    {#                            </tr>#}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</header>
<section class="intro-one">

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="intro-text text-center">
                    <p class="p_footer">@Innocent-Innovation cup</p>
                </div>

            </div>
        </div>
    </div>

</section>
    <div id="main" style="width: 1200px;height:1000px;"></div>
    <script type="text/javascript">
        var countdata = function (echarts) {

            var myChart = echarts.init(document.getElementById('main'));

            // 数据库数据插入
            var dateDict = [
                {% for one_data in data_source %}
                    {date: '{{ one_data.comment_date }}', value: {{ one_data.comment_count }}},
                {% endfor %}
            ]
            var date = []

            for (var i = 0; i < dateDict.length; i++) {
                var e = dateDict[i].date
                date.push(e)
                // console.log('e', e)
            }


            // 循环每个城市的数据
            var dateData = function (array) {
                var data = []
                for (var i = 0; i < array.length; i++) {
                    var e = array[i]
                    data.push(e)
                    // console.log('e', e)
                }
                return data
            }

            var option = {
                title: {
                    left: 'left',
                    text: '日期-评论数据',
                },
                tooltip: {
                    trigger: 'axis',
                    show: true,
                },
                legend: {
                    data: ['评论数']
                },
                xAxis: [
                    {
                        type: 'category',
                        data: date
                    }
                ],
                yAxis: [
                    {
                        type: 'value',
                    }
                ],
                series: [
                    {
                        name: "评论数",
                        type: "line",
                        data: dateDict,
                        {#                    data: dateData(dateDict)#}

                    },

                ]
            };

            myChart.setOption(option);
            {#        myChart.showLoading();#}
            myChart.hideLoading();
        };
        // 函数调用
        countdata(echarts)

    </script>
    {#echarts结束#}


    <!--banner ends-->
<!--header ends-->


<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/jquery-1.11.3.min.js"></script>
<script src="/static/js/jquery-1.9.1.min.js"></script>
<script src="/static/js/owl.carousel.js"></script>
<script src="/static/js/jquery.mixitup.js" type="text/javascript"></script>
<script type="text/javascript" src="/static/js/jquery.quovolver.js"></script>


<!--for smooth scrolling-->
<script>
    $(function () {
        $('a[href*=#]:not([href=#])').click(function () {
            if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {

                var target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                if (target.length) {
                    $('html,body').animate({
                        scrollTop: target.offset().top
                    }, 1000);
                    return false;
                }
            }
        });
    });
</script>
<!--demo-->
<script>
    $(document).ready(function () {
        $("#owl-demo").owlCarousel({
            autoPlay: 4000,
            items: 4,
            itemsDesktop: [1199, 3],
            itemsDesktopSmall: [979, 3]
        });

    });

</script>

<script type="text/javascript">


    $(document).ready(function () {

        var owl = $("#owl-demo");

        owl.owlCarousel();

        // Custom Navigation Events
        $(".next").click(function () {
            owl.trigger('owl.next');
        })
        $(".prev").click(function () {
            owl.trigger('owl.prev');
        })

    });


</script>

<script type="text/javascript">
    $(function () {

        // Instantiate MixItUp:

        $('#Container').mixItUp();

    });
</script>
<script>
    jQuery(function ($) {
        // fancybox
        $(".fancybox").fancybox({
            modal: true, // disable regular nav and close buttons
            // add buttons helper (requires buttons helper js and css files)
            helpers: {
                buttons: {}
            }
        });
        // filter selector
        $(".filter").on("click", function () {
            var $this = $(this);
            // if we click the active tab, do nothing
            if (!$this.hasClass("active")) {
                $(".filter").removeClass("active");
                $this.addClass("active"); // set the active tab
                // get the data-rel value from selected tab and set as filter
                var $filter = $this.data("rel");
                // if we select view all, return to initial settings and show all
                $filter == 'all' ?
                        $(".fancybox")
                                .attr("data-fancybox-group", "gallery")
                                .not(":visible")
                                .fadeIn()
                        : // otherwise
                        $(".fancybox")
                                .fadeOut(0)
                                .filter(function () {
                                    // set data-filter value as the data-rel value of selected tab
                                    return $(this).data("filter") == $filter;
                                })
                                // set data-fancybox-group and show filtered elements
                                .attr("data-fancybox-group", $filter)
                                .fadeIn(1000);
            } // if
        }); // on
    }); // ready
</script>
<!--texitimonial-->
<script>


    $('.quotes').quovolver({
        equalHeight: true
    });

</script>

</body>
</html>